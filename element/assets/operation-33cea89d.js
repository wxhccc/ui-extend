import{j as P,c as m,d as V,b as C}from"./app-59cd0345.js";import{_ as D,c as M,r as n,h as _,M as $,p as j,q as B,N as E}from"./framework-d784189f.js";const S=M({setup(){const e=n(!1),t=[{key:"selection",selection:"checkbox"},{prop:"id",label:"Id"},{prop:"type",label:"类型"},{prop:"title",label:"标题"},{prop:"description",label:"描述"}],l=n({title:""}),r=n([]),a=n({delete:!1}),c=n({rows:[],total:0}),p=_(()=>({loadings:a.value,items:[{text:"新增",onClick:()=>{console.log("新增")}},{lockingKey:"delete",props:{type:"danger"},text:"删除选中项",onClick:u},{component:P,props:{placeholder:"请输入标题搜索",moduleValue:l.value.title,"onUpdate:modelValue":o=>l.value.title=o}}]})),s=async o=>{console.log(o);const[,d]=await C(f(o),e);c.value=d},f=o=>new Promise(d=>{const{current:h,size:g,title:v,description:w,type:y}=o,b=Array(g||10).fill(0).map((T,k)=>{const i=Math.random();return{id:(h-1)*g+k+1,type:y||(i>.5?"文章":"帖子"),title:(v||"")+i.toString(26).substring(2),description:(w||"")+i.toString(34).substring(2)+i.toString(32)}});window.setTimeout(()=>{d({rows:b,total:200})},1500)}),u=()=>{if(!r.value.length){m.warning("请先选择记录");return}V.confirm(`你确定要删除id为${r.value.join(",")}的记录么？`,"提示").then(()=>{a.value.delete=!0,window.setTimeout(()=>{m.success("删除成功"),a.value.delete=!1},2e3)}).catch(()=>{})};return{loading:e,columns:t,searchParams:l,selectionValue:r,opeLoadings:a,pagedData:c,operation:p,getPagedData:s,deleteChoose:u}}}),U={style:{height:"400px"}};function N(e,t,l,r,a,c){const p=$("ue-common-list-page");return j(),B("div",U,[E(p,{"selection-value":e.selectionValue,"onUpdate:selectionValue":t[0]||(t[0]=s=>e.selectionValue=s),"search-params":e.searchParams,"onUpdate:searchParams":t[1]||(t[1]=s=>e.searchParams=s),loading:e.loading,columns:e.columns,"paged-data":e.pagedData,operation:e.operation,"get-paged-data":e.getPagedData,"created-auto-send":""},null,8,["selection-value","search-params","loading","columns","paged-data","operation","get-paged-data"])])}const A=D(S,[["render",N],["__file","operation.vue"]]);export{A as default};
