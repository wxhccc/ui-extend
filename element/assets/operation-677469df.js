import{W as V,m as g,M as C,i as D}from"./app-59cd0345.js";import{_ as I,c as M,r as s,h as _,M as $,p as b,q as T,N as S}from"./framework-d784189f.js";const U=M({setup(){const e=s(!1),t=[{dataIndex:"id",title:"Id"},{dataIndex:"type",title:"类型"},{dataIndex:"title",title:"标题"},{dataIndex:"description",title:"描述"}],l=s({title:""}),i=s([]),o=s({delete:!1}),d=s({rows:[],total:0}),c=_(()=>({loadings:o.value,items:[{btnText:"新增",onClick:()=>{console.log("新增")}},{lockingKey:"delete",props:{danger:!0},btnText:"删除选中项",onClick:u},{component:V,props:{placeholder:"请输入标题搜索",moduleValue:l.value.title,"onUpdate:modelValue":a=>l.value.title=a}}]})),n=async a=>{console.log(a);const[,p]=await D(f(a),e);d.value=p},f=a=>new Promise(p=>{const{current:v,size:m,title:h,description:w,type:k}=a,y=Array(m||10).fill(0).map((W,P)=>{const r=Math.random();return{id:(v-1)*m+P+1,type:k||(r>.5?"文章":"帖子"),title:(h||"")+r.toString(26).substring(2),description:(w||"")+r.toString(34).substring(2)+r.toString(32)}});window.setTimeout(()=>{p({rows:y,total:200})},1500)}),u=()=>{if(!i.value.length){g.warning("请先选择记录");return}C.confirm({title:"提示",content:`你确定要删除id为${i.value.join(",")}的记录么？`,onOk:()=>{o.value.delete=!0,window.setTimeout(()=>{g.success("删除成功"),o.value.delete=!1},2e3)}})};return{loading:e,columns:t,searchParams:l,selectionValue:i,opeLoadings:o,pagedData:d,operation:c,getPagedData:n,deleteChoose:u}}}),B={style:{height:"400px"}};function N(e,t,l,i,o,d){const c=$("ue-common-list-page");return b(),T("div",B,[S(c,{"selection-value":e.selectionValue,"onUpdate:selectionValue":t[0]||(t[0]=n=>e.selectionValue=n),"search-params":e.searchParams,"onUpdate:searchParams":t[1]||(t[1]=n=>e.searchParams=n),loading:e.loading,columns:e.columns,"paged-data":e.pagedData,operation:e.operation,"get-paged-data":e.getPagedData,"created-auto-send":""},null,8,["selection-value","search-params","loading","columns","paged-data","operation","get-paged-data"])])}const x=I(U,[["render",N],["__file","operation.vue"]]);export{x as default};
